# -*- python -*-
# This file contains rules for Bazel; see https://bazel.io/ .

licenses(["notice"])

# Headers to expose.
filegroup(
    name = "symbolic_headers",
    srcs = [
        "dreal/symbolic/hash.h",
        "dreal/symbolic/symbolic_environment.h",
        "dreal/symbolic/symbolic_expression.h",
        "dreal/symbolic/symbolic_expression_visitor.h",
        "dreal/symbolic/symbolic_formula.h",
        "dreal/symbolic/symbolic_formula_visitor.h",
        "dreal/symbolic/symbolic_variable.h",
        "dreal/symbolic/symbolic_variables.h",
        "dreal/symbolic/test/symbolic_test_util.h",
    ],
    visibility = ["//visibility:public"],
)

DRAKE_UTIL_EIGEN_HEADERS = [
    "dreal/util/autodiffxd.h",
    "dreal/util/eigen_autodiff_overloads.h",
    "dreal/util/eigen_autodiff_types.h",
    "dreal/util/eigen_types.h",
]

filegroup(
    name = "util_headers",
    srcs = DRAKE_UTIL_EIGEN_HEADERS,
    visibility = ["//visibility:public"],
)

cc_library(
    name = "drake_util_eigen",
    hdrs = DRAKE_UTIL_EIGEN_HEADERS,
    includes = ["."],
    visibility = ["//visibility:public"],
    deps = [
        "@eigen3",
    ],
)

cc_library(
    name = "drake_symbolic",
    srcs = [
        "dreal/symbolic/never_destroyed.h",
        "dreal/symbolic/symbolic_environment.cc",
        "dreal/symbolic/symbolic_expression.cc",
        "dreal/symbolic/symbolic_expression_cell.cc",
        "dreal/symbolic/symbolic_expression_cell.h",
        "dreal/symbolic/symbolic_expression_visitor.cc",
        "dreal/symbolic/symbolic_formula.cc",
        "dreal/symbolic/symbolic_formula_cell.cc",
        "dreal/symbolic/symbolic_formula_cell.h",
        "dreal/symbolic/symbolic_formula_visitor.cc",
        "dreal/symbolic/symbolic_variable.cc",
        "dreal/symbolic/symbolic_variables.cc",
    ],
    hdrs = [":symbolic_headers"],
    includes = ["."],
    visibility = ["//visibility:public"],
    deps = [
        ":drake_util_eigen",
    ],
)
